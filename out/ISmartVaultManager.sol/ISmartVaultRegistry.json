{"abi":[{"type":"function","name":"registerSmartVault","inputs":[{"name":"smartVault","type":"address","internalType":"address"},{"name":"registrationForm","type":"tuple","internalType":"struct SmartVaultRegistrationForm","components":[{"name":"assetGroupId","type":"uint256","internalType":"uint256"},{"name":"strategies","type":"address[]","internalType":"address[]"},{"name":"strategyAllocation","type":"uint256","internalType":"uint16a16"},{"name":"managementFeePct","type":"uint16","internalType":"uint16"},{"name":"depositFeePct","type":"uint16","internalType":"uint16"},{"name":"performanceFeePct","type":"uint16","internalType":"uint16"}]}],"outputs":[],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"registerSmartVault(address,(uint256,address[],uint256,uint16,uint16,uint16))":"146c6743"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"smartVault\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"assetGroupId\",\"type\":\"uint256\"},{\"internalType\":\"address[]\",\"name\":\"strategies\",\"type\":\"address[]\"},{\"internalType\":\"uint16a16\",\"name\":\"strategyAllocation\",\"type\":\"uint256\"},{\"internalType\":\"uint16\",\"name\":\"managementFeePct\",\"type\":\"uint16\"},{\"internalType\":\"uint16\",\"name\":\"depositFeePct\",\"type\":\"uint16\"},{\"internalType\":\"uint16\",\"name\":\"performanceFeePct\",\"type\":\"uint16\"}],\"internalType\":\"struct SmartVaultRegistrationForm\",\"name\":\"registrationForm\",\"type\":\"tuple\"}],\"name\":\"registerSmartVault\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"registerSmartVault(address,(uint256,address[],uint256,uint16,uint16,uint16))\":{\"details\":\"Requirements: - caller must have role ROLE_SMART_VAULT_INTEGRATOR\",\"params\":{\"registrationForm\":\"Form with information for registration.\",\"smartVault\":\"Smart vault to register.\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"registerSmartVault(address,(uint256,address[],uint256,uint16,uint16,uint16))\":{\"notice\":\"Registers smart vault into the Spool protocol.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/ISmartVaultManager.sol\":\"ISmartVaultRegistry\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@prb/math/=lib/prb-math/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":prb-math/=lib/prb-math/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\"]},\"sources\":{\"src/interfaces/Constants.sol\":{\"keccak256\":\"0x14098998da750616c31e480b982f25c37d0cb60a1c7cebafe2d17b4670a41176\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://501f5aead8ee02766e81074fa96a2584006ce26c00a9d0881bd5217a7da209eb\",\"dweb:/ipfs/QmQMHVArLXpsqyTt4XBTef9d6wkYuRPJdizrpugkdYW4G2\"]},\"src/interfaces/IDepositManager.sol\":{\"keccak256\":\"0xb48577b668b117d0ada011bfe742e5b78e2ae3e55847e200204332ef1b9abd6f\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://a21d1175bc5b6b92f97afe23e1de3fea6d2c1569d250da7425c3d9075251881a\",\"dweb:/ipfs/QmYB3R18Js9H3J1Pp6YNpp983MfdBqBLAQbyriqS3GYRPn\"]},\"src/interfaces/IERC1155MetadataURIUpgradeable.sol\":{\"keccak256\":\"0x62d7d4155bf57a6f6a4d3e0c1440ab7fc4b9ad8362cd2742d63e7407ba37b025\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://62323e9ef7bb540b7510b5bb2612cbf03234ed91be7e34af4c3834e2431f679a\",\"dweb:/ipfs/QmaKda4NqgrX9ebw9nxwSpDAUoS5iYXR9a9AKygknoxnWg\"]},\"src/interfaces/IERC1155Upgradeable.sol\":{\"keccak256\":\"0xa1cf4a47b24f01053daa96f12d69b286f78944d5308051f3af480d2bed7d64c3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://dbda5e13c955dc55963a5f7ce8ef17604b4bb35ae69b75e1550ea9d9b9ffd14e\",\"dweb:/ipfs/QmNMStubfavSKKsKJKjzXXY6FYQ69tRJdftFdq7jXtLrqE\"]},\"src/interfaces/IERC165Upgradeable.sol\":{\"keccak256\":\"0x781c3dfeacfed81d9f30ee1445f27a9c41f090ffbff6036e3f006f44281af864\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9c7b9a2b8260eb971740c8ce4e67b30699990804f5bb4c4e80584700df7838c7\",\"dweb:/ipfs/QmWwtgynBvZre8JP42EoxDmmujnFS3Eiejd9gNK8peUB1X\"]},\"src/interfaces/IERC20Upgradeable.sol\":{\"keccak256\":\"0x22fffb4f5262e1ae532edeaccdedc85e449af7b50754b4a1be4a6ecd170120c3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8581149cafbbec49bd361c3c50cf76d1f678644c7f87c66e66ba4a6efca5956c\",\"dweb:/ipfs/QmekQhe8dpzebJQBs5Ah13iHjdd1r8ysns7q3Ef8DGW6Lo\"]},\"src/interfaces/ISmartVault.sol\":{\"keccak256\":\"0xffc16686d0a28150aecd4811ed6d221f692f1897b5922561b1268a8a659eb19c\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://760fb247c4c5ee5d660299ddd43d0ab088d02d12c567d6e994f8b3080e5d75d1\",\"dweb:/ipfs/Qmcg1t7WvQ4TTyufhLKWDmRukcCDhpS5jfrxwCbQqGMJfP\"]},\"src/interfaces/ISmartVaultManager.sol\":{\"keccak256\":\"0xe5074aa2199629ac655b5ade12bf64a9d170f024334638e3b22e432a122067c3\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://ac87a8f615bd325143c1f6f9c96ef1eee3be42a267f459a6f3da36f89e7cc86d\",\"dweb:/ipfs/QmW1G2vaiSFD4MefYCJQBBViiCYCxR6HAFUt9aNeUqc1Yr\"]},\"src/interfaces/ISwapper.sol\":{\"keccak256\":\"0x52bf0742ec1e3d68209f09622618f7f6b7adcc559c1e453dd3ee1c1537b1acde\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://498d832f14e6c8e4b316225f3a4a86fbf8172a85bd7aa090aeab3d9dbecba696\",\"dweb:/ipfs/QmSntDHhXLu1exqsbEufwVQd4QxfkjyTy71sitdtuPEWkr\"]},\"src/interfaces/IWithdrawalManager.sol\":{\"keccak256\":\"0xfa98436bff85e1abda8d43df82bdbbe6aa830f9c73f65a636c6c798dab019178\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://b93b1831cd287ae3cd8b81edab326d1a99b851f89253e6a4cfd211276e422f33\",\"dweb:/ipfs/Qmbw92Mgbnim6uMncRxd47N2Gm8nLxnRVDW1zTVLUxnqb5\"]},\"src/interfaces/RequestType.sol\":{\"keccak256\":\"0xbbaf3f2dc27061b50dcd5469de28a40796da8dd5b518e13b5e893c3860ce2ce4\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://7f366b76d388720de2dc37b57cda39b3e483dd649a21f11a9f37cc66b8ae0751\",\"dweb:/ipfs/QmTg3TDzM7zzKbWoYTeqEki7dDhEQNzD2kzDTunMbQfoy8\"]},\"src/interfaces/uint16a16Lib.sol\":{\"keccak256\":\"0x6c8aa38e7d3d3c9ebffbfe08a5264d4e8c76ec4ef68caa4a909253ca31d2e151\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://40485649f9288e095945277b23b709c4d52e9d8d50fb278ee4c1d79fef185061\",\"dweb:/ipfs/QmNeLD1UWDwzS3pht1GSVhqhUrdNSXXBbhbRcdrxTNMcUb\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.17+commit.8df45f5f"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"smartVault","type":"address"},{"internalType":"struct SmartVaultRegistrationForm","name":"registrationForm","type":"tuple","components":[{"internalType":"uint256","name":"assetGroupId","type":"uint256"},{"internalType":"address[]","name":"strategies","type":"address[]"},{"internalType":"uint16a16","name":"strategyAllocation","type":"uint256"},{"internalType":"uint16","name":"managementFeePct","type":"uint16"},{"internalType":"uint16","name":"depositFeePct","type":"uint16"},{"internalType":"uint16","name":"performanceFeePct","type":"uint16"}]}],"stateMutability":"nonpayable","type":"function","name":"registerSmartVault"}],"devdoc":{"kind":"dev","methods":{"registerSmartVault(address,(uint256,address[],uint256,uint16,uint16,uint16))":{"details":"Requirements: - caller must have role ROLE_SMART_VAULT_INTEGRATOR","params":{"registrationForm":"Form with information for registration.","smartVault":"Smart vault to register."}}},"version":1},"userdoc":{"kind":"user","methods":{"registerSmartVault(address,(uint256,address[],uint256,uint16,uint16,uint16))":{"notice":"Registers smart vault into the Spool protocol."}},"version":1}},"settings":{"remappings":["@openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@prb/math/=lib/prb-math/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","prb-math/=lib/prb-math/src/","solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/interfaces/ISmartVaultManager.sol":"ISmartVaultRegistry"},"evmVersion":"london","libraries":{}},"sources":{"src/interfaces/Constants.sol":{"keccak256":"0x14098998da750616c31e480b982f25c37d0cb60a1c7cebafe2d17b4670a41176","urls":["bzz-raw://501f5aead8ee02766e81074fa96a2584006ce26c00a9d0881bd5217a7da209eb","dweb:/ipfs/QmQMHVArLXpsqyTt4XBTef9d6wkYuRPJdizrpugkdYW4G2"],"license":"BUSL-1.1"},"src/interfaces/IDepositManager.sol":{"keccak256":"0xb48577b668b117d0ada011bfe742e5b78e2ae3e55847e200204332ef1b9abd6f","urls":["bzz-raw://a21d1175bc5b6b92f97afe23e1de3fea6d2c1569d250da7425c3d9075251881a","dweb:/ipfs/QmYB3R18Js9H3J1Pp6YNpp983MfdBqBLAQbyriqS3GYRPn"],"license":"BUSL-1.1"},"src/interfaces/IERC1155MetadataURIUpgradeable.sol":{"keccak256":"0x62d7d4155bf57a6f6a4d3e0c1440ab7fc4b9ad8362cd2742d63e7407ba37b025","urls":["bzz-raw://62323e9ef7bb540b7510b5bb2612cbf03234ed91be7e34af4c3834e2431f679a","dweb:/ipfs/QmaKda4NqgrX9ebw9nxwSpDAUoS5iYXR9a9AKygknoxnWg"],"license":"MIT"},"src/interfaces/IERC1155Upgradeable.sol":{"keccak256":"0xa1cf4a47b24f01053daa96f12d69b286f78944d5308051f3af480d2bed7d64c3","urls":["bzz-raw://dbda5e13c955dc55963a5f7ce8ef17604b4bb35ae69b75e1550ea9d9b9ffd14e","dweb:/ipfs/QmNMStubfavSKKsKJKjzXXY6FYQ69tRJdftFdq7jXtLrqE"],"license":"MIT"},"src/interfaces/IERC165Upgradeable.sol":{"keccak256":"0x781c3dfeacfed81d9f30ee1445f27a9c41f090ffbff6036e3f006f44281af864","urls":["bzz-raw://9c7b9a2b8260eb971740c8ce4e67b30699990804f5bb4c4e80584700df7838c7","dweb:/ipfs/QmWwtgynBvZre8JP42EoxDmmujnFS3Eiejd9gNK8peUB1X"],"license":"MIT"},"src/interfaces/IERC20Upgradeable.sol":{"keccak256":"0x22fffb4f5262e1ae532edeaccdedc85e449af7b50754b4a1be4a6ecd170120c3","urls":["bzz-raw://8581149cafbbec49bd361c3c50cf76d1f678644c7f87c66e66ba4a6efca5956c","dweb:/ipfs/QmekQhe8dpzebJQBs5Ah13iHjdd1r8ysns7q3Ef8DGW6Lo"],"license":"MIT"},"src/interfaces/ISmartVault.sol":{"keccak256":"0xffc16686d0a28150aecd4811ed6d221f692f1897b5922561b1268a8a659eb19c","urls":["bzz-raw://760fb247c4c5ee5d660299ddd43d0ab088d02d12c567d6e994f8b3080e5d75d1","dweb:/ipfs/Qmcg1t7WvQ4TTyufhLKWDmRukcCDhpS5jfrxwCbQqGMJfP"],"license":"BUSL-1.1"},"src/interfaces/ISmartVaultManager.sol":{"keccak256":"0xe5074aa2199629ac655b5ade12bf64a9d170f024334638e3b22e432a122067c3","urls":["bzz-raw://ac87a8f615bd325143c1f6f9c96ef1eee3be42a267f459a6f3da36f89e7cc86d","dweb:/ipfs/QmW1G2vaiSFD4MefYCJQBBViiCYCxR6HAFUt9aNeUqc1Yr"],"license":"BUSL-1.1"},"src/interfaces/ISwapper.sol":{"keccak256":"0x52bf0742ec1e3d68209f09622618f7f6b7adcc559c1e453dd3ee1c1537b1acde","urls":["bzz-raw://498d832f14e6c8e4b316225f3a4a86fbf8172a85bd7aa090aeab3d9dbecba696","dweb:/ipfs/QmSntDHhXLu1exqsbEufwVQd4QxfkjyTy71sitdtuPEWkr"],"license":"BUSL-1.1"},"src/interfaces/IWithdrawalManager.sol":{"keccak256":"0xfa98436bff85e1abda8d43df82bdbbe6aa830f9c73f65a636c6c798dab019178","urls":["bzz-raw://b93b1831cd287ae3cd8b81edab326d1a99b851f89253e6a4cfd211276e422f33","dweb:/ipfs/Qmbw92Mgbnim6uMncRxd47N2Gm8nLxnRVDW1zTVLUxnqb5"],"license":"BUSL-1.1"},"src/interfaces/RequestType.sol":{"keccak256":"0xbbaf3f2dc27061b50dcd5469de28a40796da8dd5b518e13b5e893c3860ce2ce4","urls":["bzz-raw://7f366b76d388720de2dc37b57cda39b3e483dd649a21f11a9f37cc66b8ae0751","dweb:/ipfs/QmTg3TDzM7zzKbWoYTeqEki7dDhEQNzD2kzDTunMbQfoy8"],"license":"BUSL-1.1"},"src/interfaces/uint16a16Lib.sol":{"keccak256":"0x6c8aa38e7d3d3c9ebffbfe08a5264d4e8c76ec4ef68caa4a909253ca31d2e151","urls":["bzz-raw://40485649f9288e095945277b23b709c4d52e9d8d50fb278ee4c1d79fef185061","dweb:/ipfs/QmNeLD1UWDwzS3pht1GSVhqhUrdNSXXBbhbRcdrxTNMcUb"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"src/interfaces/ISmartVaultManager.sol","id":2645,"exportedSymbols":{"DEPOSIT_FEE_MAX":[590],"DepositBag":[843],"DepositExtras":[857],"DepositFeeTooLarge":[2298],"DepositIdOverflow":[2073],"DepositMetadata":[2107],"DepositSyncResult":[879],"ECOSYSTEM_FEE_MAX":[598],"ExchangeNotAllowed":[2658],"FULL_PERCENT":[565],"FULL_PERCENT_INT":[569],"FlushIndex":[2357],"GhostVault":[2307],"IDepositManager":[1106],"IERC1155MetadataURIUpgradeable":[1121],"IERC1155Upgradeable":[1284],"IERC165Upgradeable":[1296],"IERC20Upgradeable":[1452],"INITIAL_LOCKED_SHARES":[668],"INITIAL_LOCKED_SHARES_ADDRESS":[675],"INITIAL_SHARE_MULTIPLIER":[662],"ISmartVault":[2258],"ISmartVaultManager":[2644],"ISmartVaultRegistry":[2367],"ISwapper":[2724],"IWithdrawalManager":[2904],"InsufficientBalance":[2271],"InvalidAssetLengths":[819],"InvalidDepositNftId":[2081],"InvalidNftArrayLength":[822],"InvalidNftBalance":[2091],"InvalidNftTransferAmount":[2096],"InvalidWithdrawalNftId":[2086],"MANAGEMENT_FEE_MAX":[586],"MAXIMAL_DEPOSIT_ID":[636],"MAXIMAL_WITHDRAWAL_ID":[644],"MAX_ACTION_COUNT":[683],"MAX_DHW_BASE_YIELD_LIMIT":[658],"MAX_GUARD_COUNT":[679],"MAX_RISK_SCORE":[606],"MAX_RISK_TOLERANCE":[614],"MIN_RISK_SCORE":[610],"MIN_RISK_TOLERANCE":[619],"ManagementFeeTooLarge":[2285],"NFT_MINTED_SHARES":[650],"NULL_ASSET_GROUP_ID":[687],"NoDepositsToRecover":[828],"NotGhostVault":[831],"NotSwapper":[2663],"NothingToDeposit":[825],"NothingToFlush":[2274],"PerformanceFeeTooLarge":[2290],"ReallocateParamBag":[2352],"ReallocationParametersExpired":[2310],"RedeemBag":[2743],"RedeemExtras":[2767],"RedeemFastExtras":[2758],"RedeemForNotAllowed":[2301],"RequestType":[2912],"SECONDS_IN_YEAR":[557],"SECONDS_IN_YEAR_INT":[561],"STATIC_RISK_PROVIDER":[626],"STATIC_RISK_SCORE":[630],"STRATEGY_COUNT_CAP":[654],"SV_PERFORMANCE_FEE_MAX":[594],"SenderEqualsRecipient":[2099],"SimulateDepositParams":[901],"SmartVaultAlreadyRegistered":[2277],"SmartVaultFees":[2119],"SmartVaultFeesCollected":[864],"SmartVaultNotRegisteredYet":[2280],"SmartVaultRegistrationForm":[2325],"StaticAllocationSmartVault":[2293],"SwapInfo":[2653],"TREASURY_FEE_MAX":[602],"VaultNotSynced":[2304],"WithdrawalClaimBag":[2787],"WithdrawalIdOverflow":[2076],"WithdrawalMetadata":[2112],"WithdrawalNftNotSyncedYet":[2732],"YIELD_FULL_PERCENT":[582],"YIELD_FULL_PERCENT_INT":[575],"uint16a16":[2916],"uint16a16Lib":[3058]},"nodeType":"SourceUnit","src":"37:14993:17","nodes":[{"id":2260,"nodeType":"PragmaDirective","src":"37:23:17","nodes":[],"literals":["solidity","0.8",".17"]},{"id":2261,"nodeType":"ImportDirective","src":"62:31:17","nodes":[],"absolutePath":"src/interfaces/IDepositManager.sol","file":"./IDepositManager.sol","nameLocation":"-1:-1:-1","scope":2645,"sourceUnit":1107,"symbolAliases":[],"unitAlias":""},{"id":2262,"nodeType":"ImportDirective","src":"94:27:17","nodes":[],"absolutePath":"src/interfaces/ISmartVault.sol","file":"./ISmartVault.sol","nameLocation":"-1:-1:-1","scope":2645,"sourceUnit":2259,"symbolAliases":[],"unitAlias":""},{"id":2263,"nodeType":"ImportDirective","src":"122:24:17","nodes":[],"absolutePath":"src/interfaces/ISwapper.sol","file":"./ISwapper.sol","nameLocation":"-1:-1:-1","scope":2645,"sourceUnit":2725,"symbolAliases":[],"unitAlias":""},{"id":2264,"nodeType":"ImportDirective","src":"147:34:17","nodes":[],"absolutePath":"src/interfaces/IWithdrawalManager.sol","file":"./IWithdrawalManager.sol","nameLocation":"-1:-1:-1","scope":2645,"sourceUnit":2905,"symbolAliases":[],"unitAlias":""},{"id":2271,"nodeType":"ErrorDefinition","src":"302:63:17","nodes":[],"documentation":{"id":2265,"nodeType":"StructuredDocumentation","src":"219:82:17","text":" @notice Used when user has insufficient balance for redeemal of shares."},"errorSelector":"cf479181","name":"InsufficientBalance","nameLocation":"308:19:17","parameters":{"id":2270,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2267,"mutability":"mutable","name":"available","nameLocation":"336:9:17","nodeType":"VariableDeclaration","scope":2271,"src":"328:17:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2266,"name":"uint256","nodeType":"ElementaryTypeName","src":"328:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2269,"mutability":"mutable","name":"required","nameLocation":"355:8:17","nodeType":"VariableDeclaration","scope":2271,"src":"347:16:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2268,"name":"uint256","nodeType":"ElementaryTypeName","src":"347:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"327:37:17"}},{"id":2274,"nodeType":"ErrorDefinition","src":"423:23:17","nodes":[],"documentation":{"id":2272,"nodeType":"StructuredDocumentation","src":"367:55:17","text":" @notice Used when there is nothing to flush."},"errorSelector":"eb694a3c","name":"NothingToFlush","nameLocation":"429:14:17","parameters":{"id":2273,"nodeType":"ParameterList","parameters":[],"src":"443:2:17"}},{"id":2277,"nodeType":"ErrorDefinition","src":"539:36:17","nodes":[],"documentation":{"id":2275,"nodeType":"StructuredDocumentation","src":"448:90:17","text":" @notice Used when trying to register a smart vault that was already registered."},"errorSelector":"dafba3c4","name":"SmartVaultAlreadyRegistered","nameLocation":"545:27:17","parameters":{"id":2276,"nodeType":"ParameterList","parameters":[],"src":"572:2:17"}},{"id":2280,"nodeType":"ErrorDefinition","src":"679:35:17","nodes":[],"documentation":{"id":2278,"nodeType":"StructuredDocumentation","src":"577:101:17","text":" @notice Used when trying to perform an action for smart vault that was not registered yet."},"errorSelector":"cbf256f3","name":"SmartVaultNotRegisteredYet","nameLocation":"685:26:17","parameters":{"id":2279,"nodeType":"ParameterList","parameters":[],"src":"711:2:17"}},{"id":2285,"nodeType":"ErrorDefinition","src":"808:48:17","nodes":[],"documentation":{"id":2281,"nodeType":"StructuredDocumentation","src":"716:91:17","text":" @notice Used when user tries to configure a vault with too large management fee."},"errorSelector":"ab5e6584","name":"ManagementFeeTooLarge","nameLocation":"814:21:17","parameters":{"id":2284,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2283,"mutability":"mutable","name":"mgmtFeePct","nameLocation":"844:10:17","nodeType":"VariableDeclaration","scope":2285,"src":"836:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2282,"name":"uint256","nodeType":"ElementaryTypeName","src":"836:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"835:20:17"}},{"id":2290,"nodeType":"ErrorDefinition","src":"951:56:17","nodes":[],"documentation":{"id":2286,"nodeType":"StructuredDocumentation","src":"858:92:17","text":" @notice Used when user tries to configure a vault with too large performance fee."},"errorSelector":"af603d45","name":"PerformanceFeeTooLarge","nameLocation":"957:22:17","parameters":{"id":2289,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2288,"mutability":"mutable","name":"performanceFeePct","nameLocation":"988:17:17","nodeType":"VariableDeclaration","scope":2290,"src":"980:25:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2287,"name":"uint256","nodeType":"ElementaryTypeName","src":"980:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"979:27:17"}},{"id":2293,"nodeType":"ErrorDefinition","src":"1097:35:17","nodes":[],"documentation":{"id":2291,"nodeType":"StructuredDocumentation","src":"1009:87:17","text":" @notice Used when smart vault in reallocation has statically set allocation."},"errorSelector":"337ce502","name":"StaticAllocationSmartVault","nameLocation":"1103:26:17","parameters":{"id":2292,"nodeType":"ParameterList","parameters":[],"src":"1129:2:17"}},{"id":2298,"nodeType":"ErrorDefinition","src":"1223:48:17","nodes":[],"documentation":{"id":2294,"nodeType":"StructuredDocumentation","src":"1134:88:17","text":" @notice Used when user tries to configure a vault with too large deposit fee."},"errorSelector":"37291fce","name":"DepositFeeTooLarge","nameLocation":"1229:18:17","parameters":{"id":2297,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2296,"mutability":"mutable","name":"depositFeePct","nameLocation":"1256:13:17","nodeType":"VariableDeclaration","scope":2298,"src":"1248:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2295,"name":"uint256","nodeType":"ElementaryTypeName","src":"1248:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1247:23:17"}},{"id":2301,"nodeType":"ErrorDefinition","src":"1381:28:17","nodes":[],"documentation":{"id":2299,"nodeType":"StructuredDocumentation","src":"1273:107:17","text":" @notice Used when user tries redeem on behalf of another user, but the vault does not support it"},"errorSelector":"b6ad2a37","name":"RedeemForNotAllowed","nameLocation":"1387:19:17","parameters":{"id":2300,"nodeType":"ParameterList","parameters":[],"src":"1406:2:17"}},{"id":2304,"nodeType":"ErrorDefinition","src":"1495:23:17","nodes":[],"documentation":{"id":2302,"nodeType":"StructuredDocumentation","src":"1411:83:17","text":" @notice Used when trying to flush a vault that still needs to be synced."},"errorSelector":"835fa209","name":"VaultNotSynced","nameLocation":"1501:14:17","parameters":{"id":2303,"nodeType":"ParameterList","parameters":[],"src":"1515:2:17"}},{"id":2307,"nodeType":"ErrorDefinition","src":"1641:19:17","nodes":[],"documentation":{"id":2305,"nodeType":"StructuredDocumentation","src":"1520:120:17","text":" @notice Used when trying to deposit into, redeem from, or flush a smart vault that has only ghost strategies."},"errorSelector":"08c6ead3","name":"GhostVault","nameLocation":"1647:10:17","parameters":{"id":2306,"nodeType":"ParameterList","parameters":[],"src":"1657:2:17"}},{"id":2310,"nodeType":"ErrorDefinition","src":"1739:38:17","nodes":[],"documentation":{"id":2308,"nodeType":"StructuredDocumentation","src":"1662:76:17","text":" @notice Used when reallocation is called with expired parameters."},"errorSelector":"ffea2f96","name":"ReallocationParametersExpired","nameLocation":"1745:29:17","parameters":{"id":2309,"nodeType":"ParameterList","parameters":[],"src":"1774:2:17"}},{"id":2325,"nodeType":"StructDefinition","src":"2339:208:17","nodes":[],"canonicalName":"SmartVaultRegistrationForm","members":[{"constant":false,"id":2312,"mutability":"mutable","name":"assetGroupId","nameLocation":"2387:12:17","nodeType":"VariableDeclaration","scope":2325,"src":"2379:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2311,"name":"uint256","nodeType":"ElementaryTypeName","src":"2379:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2315,"mutability":"mutable","name":"strategies","nameLocation":"2415:10:17","nodeType":"VariableDeclaration","scope":2325,"src":"2405:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":2313,"name":"address","nodeType":"ElementaryTypeName","src":"2405:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2314,"nodeType":"ArrayTypeName","src":"2405:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":2318,"mutability":"mutable","name":"strategyAllocation","nameLocation":"2441:18:17","nodeType":"VariableDeclaration","scope":2325,"src":"2431:28:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_uint16a16_$2916","typeString":"uint16a16"},"typeName":{"id":2317,"nodeType":"UserDefinedTypeName","pathNode":{"id":2316,"name":"uint16a16","nameLocations":["2431:9:17"],"nodeType":"IdentifierPath","referencedDeclaration":2916,"src":"2431:9:17"},"referencedDeclaration":2916,"src":"2431:9:17","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_uint16a16_$2916","typeString":"uint16a16"}},"visibility":"internal"},{"constant":false,"id":2320,"mutability":"mutable","name":"managementFeePct","nameLocation":"2472:16:17","nodeType":"VariableDeclaration","scope":2325,"src":"2465:23:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":2319,"name":"uint16","nodeType":"ElementaryTypeName","src":"2465:6:17","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":2322,"mutability":"mutable","name":"depositFeePct","nameLocation":"2501:13:17","nodeType":"VariableDeclaration","scope":2325,"src":"2494:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":2321,"name":"uint16","nodeType":"ElementaryTypeName","src":"2494:6:17","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":2324,"mutability":"mutable","name":"performanceFeePct","nameLocation":"2527:17:17","nodeType":"VariableDeclaration","scope":2325,"src":"2520:24:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":2323,"name":"uint16","nodeType":"ElementaryTypeName","src":"2520:6:17","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"name":"SmartVaultRegistrationForm","nameLocation":"2346:26:17","scope":2645,"visibility":"public"},{"id":2352,"nodeType":"StructDefinition","src":"3306:244:17","nodes":[],"canonicalName":"ReallocateParamBag","members":[{"constant":false,"id":2328,"mutability":"mutable","name":"smartVaults","nameLocation":"3348:11:17","nodeType":"VariableDeclaration","scope":2352,"src":"3338:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":2326,"name":"address","nodeType":"ElementaryTypeName","src":"3338:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2327,"nodeType":"ArrayTypeName","src":"3338:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":2331,"mutability":"mutable","name":"strategies","nameLocation":"3375:10:17","nodeType":"VariableDeclaration","scope":2352,"src":"3365:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":2329,"name":"address","nodeType":"ElementaryTypeName","src":"3365:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2330,"nodeType":"ArrayTypeName","src":"3365:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":2336,"mutability":"mutable","name":"swapInfo","nameLocation":"3404:8:17","nodeType":"VariableDeclaration","scope":2352,"src":"3391:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_struct$_SwapInfo_$2653_storage_$dyn_storage_$dyn_storage_ptr","typeString":"struct SwapInfo[][]"},"typeName":{"baseType":{"baseType":{"id":2333,"nodeType":"UserDefinedTypeName","pathNode":{"id":2332,"name":"SwapInfo","nameLocations":["3391:8:17"],"nodeType":"IdentifierPath","referencedDeclaration":2653,"src":"3391:8:17"},"referencedDeclaration":2653,"src":"3391:8:17","typeDescriptions":{"typeIdentifier":"t_struct$_SwapInfo_$2653_storage_ptr","typeString":"struct SwapInfo"}},"id":2334,"nodeType":"ArrayTypeName","src":"3391:10:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_SwapInfo_$2653_storage_$dyn_storage_ptr","typeString":"struct SwapInfo[]"}},"id":2335,"nodeType":"ArrayTypeName","src":"3391:12:17","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_struct$_SwapInfo_$2653_storage_$dyn_storage_$dyn_storage_ptr","typeString":"struct SwapInfo[][]"}},"visibility":"internal"},{"constant":false,"id":2340,"mutability":"mutable","name":"depositSlippages","nameLocation":"3430:16:17","nodeType":"VariableDeclaration","scope":2352,"src":"3418:28:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":2337,"name":"uint256","nodeType":"ElementaryTypeName","src":"3418:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2338,"nodeType":"ArrayTypeName","src":"3418:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":2339,"nodeType":"ArrayTypeName","src":"3418:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"},{"constant":false,"id":2344,"mutability":"mutable","name":"withdrawalSlippages","nameLocation":"3464:19:17","nodeType":"VariableDeclaration","scope":2352,"src":"3452:31:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":2341,"name":"uint256","nodeType":"ElementaryTypeName","src":"3452:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2342,"nodeType":"ArrayTypeName","src":"3452:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":2343,"nodeType":"ArrayTypeName","src":"3452:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"},{"constant":false,"id":2349,"mutability":"mutable","name":"exchangeRateSlippages","nameLocation":"3502:21:17","nodeType":"VariableDeclaration","scope":2352,"src":"3489:34:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$2_storage_$dyn_storage_ptr","typeString":"uint256[2][]"},"typeName":{"baseType":{"baseType":{"id":2345,"name":"uint256","nodeType":"ElementaryTypeName","src":"3489:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2347,"length":{"hexValue":"32","id":2346,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3497:1:17","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"nodeType":"ArrayTypeName","src":"3489:10:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$2_storage_ptr","typeString":"uint256[2]"}},"id":2348,"nodeType":"ArrayTypeName","src":"3489:12:17","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$2_storage_$dyn_storage_ptr","typeString":"uint256[2][]"}},"visibility":"internal"},{"constant":false,"id":2351,"mutability":"mutable","name":"validUntil","nameLocation":"3537:10:17","nodeType":"VariableDeclaration","scope":2352,"src":"3529:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2350,"name":"uint256","nodeType":"ElementaryTypeName","src":"3529:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"ReallocateParamBag","nameLocation":"3313:18:17","scope":2645,"visibility":"public"},{"id":2357,"nodeType":"StructDefinition","src":"3552:62:17","nodes":[],"canonicalName":"FlushIndex","members":[{"constant":false,"id":2354,"mutability":"mutable","name":"current","nameLocation":"3584:7:17","nodeType":"VariableDeclaration","scope":2357,"src":"3576:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":2353,"name":"uint128","nodeType":"ElementaryTypeName","src":"3576:7:17","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":2356,"mutability":"mutable","name":"toSync","nameLocation":"3605:6:17","nodeType":"VariableDeclaration","scope":2357,"src":"3597:14:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":2355,"name":"uint128","nodeType":"ElementaryTypeName","src":"3597:7:17","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"name":"FlushIndex","nameLocation":"3559:10:17","scope":2645,"visibility":"public"},{"id":2367,"nodeType":"ContractDefinition","src":"3656:433:17","nodes":[{"id":2366,"nodeType":"FunctionDefinition","src":"3976:111:17","nodes":[],"documentation":{"id":2358,"nodeType":"StructuredDocumentation","src":"3692:279:17","text":" @notice Registers smart vault into the Spool protocol.\n @dev Requirements:\n - caller must have role ROLE_SMART_VAULT_INTEGRATOR\n @param smartVault Smart vault to register.\n @param registrationForm Form with information for registration."},"functionSelector":"146c6743","implemented":false,"kind":"function","modifiers":[],"name":"registerSmartVault","nameLocation":"3985:18:17","parameters":{"id":2364,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2360,"mutability":"mutable","name":"smartVault","nameLocation":"4012:10:17","nodeType":"VariableDeclaration","scope":2366,"src":"4004:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2359,"name":"address","nodeType":"ElementaryTypeName","src":"4004:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2363,"mutability":"mutable","name":"registrationForm","nameLocation":"4060:16:17","nodeType":"VariableDeclaration","scope":2366,"src":"4024:52:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_SmartVaultRegistrationForm_$2325_calldata_ptr","typeString":"struct SmartVaultRegistrationForm"},"typeName":{"id":2362,"nodeType":"UserDefinedTypeName","pathNode":{"id":2361,"name":"SmartVaultRegistrationForm","nameLocations":["4024:26:17"],"nodeType":"IdentifierPath","referencedDeclaration":2325,"src":"4024:26:17"},"referencedDeclaration":2325,"src":"4024:26:17","typeDescriptions":{"typeIdentifier":"t_struct$_SmartVaultRegistrationForm_$2325_storage_ptr","typeString":"struct SmartVaultRegistrationForm"}},"visibility":"internal"}],"src":"4003:74:17"},"returnParameters":{"id":2365,"nodeType":"ParameterList","parameters":[],"src":"4086:0:17"},"scope":2367,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"ISmartVaultRegistry","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[2367],"name":"ISmartVaultRegistry","nameLocation":"3666:19:17","scope":2645,"usedErrors":[]},{"id":2644,"nodeType":"ContractDefinition","src":"4091:10939:17","nodes":[{"id":2379,"nodeType":"FunctionDefinition","src":"4298:101:17","nodes":[],"documentation":{"id":2370,"nodeType":"StructuredDocumentation","src":"4206:87:17","text":" @dev Check whether all DHW runs were completed for given flush index"},"functionSelector":"ea52c910","implemented":false,"kind":"function","modifiers":[],"name":"areAllDhwRunsCompleted","nameLocation":"4307:22:17","parameters":{"id":2375,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2372,"mutability":"mutable","name":"smartVault","nameLocation":"4338:10:17","nodeType":"VariableDeclaration","scope":2379,"src":"4330:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2371,"name":"address","nodeType":"ElementaryTypeName","src":"4330:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2374,"mutability":"mutable","name":"flushIndex","nameLocation":"4358:10:17","nodeType":"VariableDeclaration","scope":2379,"src":"4350:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2373,"name":"uint256","nodeType":"ElementaryTypeName","src":"4350:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4329:40:17"},"returnParameters":{"id":2378,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2377,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":2379,"src":"4393:4:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2376,"name":"bool","nodeType":"ElementaryTypeName","src":"4393:4:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4392:6:17"},"scope":2644,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2388,"nodeType":"FunctionDefinition","src":"4524:93:17","nodes":[],"documentation":{"id":2380,"nodeType":"StructuredDocumentation","src":"4405:114:17","text":" @notice Get smartVault fees\n @param smartVault Smart vault.\n @return SmartVaultFees"},"functionSelector":"5aa090a0","implemented":false,"kind":"function","modifiers":[],"name":"getSmartVaultFees","nameLocation":"4533:17:17","parameters":{"id":2383,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2382,"mutability":"mutable","name":"smartVault","nameLocation":"4559:10:17","nodeType":"VariableDeclaration","scope":2388,"src":"4551:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2381,"name":"address","nodeType":"ElementaryTypeName","src":"4551:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4550:20:17"},"returnParameters":{"id":2387,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2386,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":2388,"src":"4594:21:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_SmartVaultFees_$2119_memory_ptr","typeString":"struct SmartVaultFees"},"typeName":{"id":2385,"nodeType":"UserDefinedTypeName","pathNode":{"id":2384,"name":"SmartVaultFees","nameLocations":["4594:14:17"],"nodeType":"IdentifierPath","referencedDeclaration":2119,"src":"4594:14:17"},"referencedDeclaration":2119,"src":"4594:14:17","typeDescriptions":{"typeIdentifier":"t_struct$_SmartVaultFees_$2119_storage_ptr","typeString":"struct SmartVaultFees"}},"visibility":"internal"}],"src":"4593:23:17"},"scope":2644,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2399,"nodeType":"FunctionDefinition","src":"4840:105:17","nodes":[],"documentation":{"id":2389,"nodeType":"StructuredDocumentation","src":"4623:212:17","text":" @notice Gets do-hard-work indexes.\n @param smartVault Smart vault.\n @param flushIndex Flush index.\n @return dhwIndexes Do-hard-work indexes for flush index of the smart vault."},"functionSelector":"e90173bd","implemented":false,"kind":"function","modifiers":[],"name":"dhwIndexes","nameLocation":"4849:10:17","parameters":{"id":2394,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2391,"mutability":"mutable","name":"smartVault","nameLocation":"4868:10:17","nodeType":"VariableDeclaration","scope":2399,"src":"4860:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2390,"name":"address","nodeType":"ElementaryTypeName","src":"4860:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2393,"mutability":"mutable","name":"flushIndex","nameLocation":"4888:10:17","nodeType":"VariableDeclaration","scope":2399,"src":"4880:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2392,"name":"uint256","nodeType":"ElementaryTypeName","src":"4880:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4859:40:17"},"returnParameters":{"id":2398,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2397,"mutability":"mutable","name":"dhwIndexes","nameLocation":"4933:10:17","nodeType":"VariableDeclaration","scope":2399,"src":"4923:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_uint16a16_$2916","typeString":"uint16a16"},"typeName":{"id":2396,"nodeType":"UserDefinedTypeName","pathNode":{"id":2395,"name":"uint16a16","nameLocations":["4923:9:17"],"nodeType":"IdentifierPath","referencedDeclaration":2916,"src":"4923:9:17"},"referencedDeclaration":2916,"src":"4923:9:17","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_uint16a16_$2916","typeString":"uint16a16"}},"visibility":"internal"}],"src":"4922:22:17"},"scope":2644,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2407,"nodeType":"FunctionDefinition","src":"5129:92:17","nodes":[],"documentation":{"id":2400,"nodeType":"StructuredDocumentation","src":"4951:173:17","text":" @notice Gets latest flush index for a smart vault.\n @param smartVault Smart vault.\n @return flushIndex Latest flush index for the smart vault."},"functionSelector":"a1280e4d","implemented":false,"kind":"function","modifiers":[],"name":"getLatestFlushIndex","nameLocation":"5138:19:17","parameters":{"id":2403,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2402,"mutability":"mutable","name":"smartVault","nameLocation":"5166:10:17","nodeType":"VariableDeclaration","scope":2407,"src":"5158:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2401,"name":"address","nodeType":"ElementaryTypeName","src":"5158:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5157:20:17"},"returnParameters":{"id":2406,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2405,"mutability":"mutable","name":"flushIndex","nameLocation":"5209:10:17","nodeType":"VariableDeclaration","scope":2407,"src":"5201:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2404,"name":"uint256","nodeType":"ElementaryTypeName","src":"5201:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5200:20:17"},"scope":2644,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2416,"nodeType":"FunctionDefinition","src":"5407:86:17","nodes":[],"documentation":{"id":2408,"nodeType":"StructuredDocumentation","src":"5227:175:17","text":" @notice Gets strategy allocation for a smart vault.\n @param smartVault Smart vault.\n @return allocation Strategy allocation for the smart vault."},"functionSelector":"52a9039c","implemented":false,"kind":"function","modifiers":[],"name":"allocations","nameLocation":"5416:11:17","parameters":{"id":2411,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2410,"mutability":"mutable","name":"smartVault","nameLocation":"5436:10:17","nodeType":"VariableDeclaration","scope":2416,"src":"5428:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2409,"name":"address","nodeType":"ElementaryTypeName","src":"5428:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5427:20:17"},"returnParameters":{"id":2415,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2414,"mutability":"mutable","name":"allocation","nameLocation":"5481:10:17","nodeType":"VariableDeclaration","scope":2416,"src":"5471:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_uint16a16_$2916","typeString":"uint16a16"},"typeName":{"id":2413,"nodeType":"UserDefinedTypeName","pathNode":{"id":2412,"name":"uint16a16","nameLocations":["5471:9:17"],"nodeType":"IdentifierPath","referencedDeclaration":2916,"src":"5471:9:17"},"referencedDeclaration":2916,"src":"5471:9:17","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_uint16a16_$2916","typeString":"uint16a16"}},"visibility":"internal"}],"src":"5470:22:17"},"scope":2644,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2425,"nodeType":"FunctionDefinition","src":"5665:92:17","nodes":[],"documentation":{"id":2417,"nodeType":"StructuredDocumentation","src":"5499:161:17","text":" @notice Gets strategies used by a smart vault.\n @param smartVault Smart vault.\n @return strategies Strategies for the smart vault."},"functionSelector":"39ebf823","implemented":false,"kind":"function","modifiers":[],"name":"strategies","nameLocation":"5674:10:17","parameters":{"id":2420,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2419,"mutability":"mutable","name":"smartVault","nameLocation":"5693:10:17","nodeType":"VariableDeclaration","scope":2425,"src":"5685:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2418,"name":"address","nodeType":"ElementaryTypeName","src":"5685:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5684:20:17"},"returnParameters":{"id":2424,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2423,"mutability":"mutable","name":"strategies","nameLocation":"5745:10:17","nodeType":"VariableDeclaration","scope":2425,"src":"5728:27:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":2421,"name":"address","nodeType":"ElementaryTypeName","src":"5728:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2422,"nodeType":"ArrayTypeName","src":"5728:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"src":"5727:29:17"},"scope":2644,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2433,"nodeType":"FunctionDefinition","src":"5947:87:17","nodes":[],"documentation":{"id":2426,"nodeType":"StructuredDocumentation","src":"5763:179:17","text":" @notice Gets asest group used by a smart vault.\n @param smartVault Smart vault.\n @return assetGroupId ID of the asset group used by the smart vault."},"functionSelector":"6e6462d6","implemented":false,"kind":"function","modifiers":[],"name":"assetGroupId","nameLocation":"5956:12:17","parameters":{"id":2429,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2428,"mutability":"mutable","name":"smartVault","nameLocation":"5977:10:17","nodeType":"VariableDeclaration","scope":2433,"src":"5969:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2427,"name":"address","nodeType":"ElementaryTypeName","src":"5969:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5968:20:17"},"returnParameters":{"id":2432,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2431,"mutability":"mutable","name":"assetGroupId","nameLocation":"6020:12:17","nodeType":"VariableDeclaration","scope":2433,"src":"6012:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2430,"name":"uint256","nodeType":"ElementaryTypeName","src":"6012:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6011:22:17"},"scope":2644,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2442,"nodeType":"FunctionDefinition","src":"6221:89:17","nodes":[],"documentation":{"id":2434,"nodeType":"StructuredDocumentation","src":"6040:176:17","text":" @notice Gets required deposit ratio for a smart vault.\n @param smartVault Smart vault.\n @return ratio Required deposit ratio for the smart vault."},"functionSelector":"f8fdca7a","implemented":false,"kind":"function","modifiers":[],"name":"depositRatio","nameLocation":"6230:12:17","parameters":{"id":2437,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2436,"mutability":"mutable","name":"smartVault","nameLocation":"6251:10:17","nodeType":"VariableDeclaration","scope":2442,"src":"6243:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2435,"name":"address","nodeType":"ElementaryTypeName","src":"6243:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6242:20:17"},"returnParameters":{"id":2441,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2440,"mutability":"mutable","name":"ratio","nameLocation":"6303:5:17","nodeType":"VariableDeclaration","scope":2442,"src":"6286:22:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2438,"name":"uint256","nodeType":"ElementaryTypeName","src":"6286:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2439,"nodeType":"ArrayTypeName","src":"6286:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"6285:24:17"},"scope":2644,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2448,"nodeType":"FunctionDefinition","src":"6514:54:17","nodes":[],"documentation":{"id":2443,"nodeType":"StructuredDocumentation","src":"6377:132:17","text":" @notice Flushes deposits and withdrawal for the next do-hard-work.\n @param smartVault Smart vault to flush."},"functionSelector":"0d574535","implemented":false,"kind":"function","modifiers":[],"name":"flushSmartVault","nameLocation":"6523:15:17","parameters":{"id":2446,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2445,"mutability":"mutable","name":"smartVault","nameLocation":"6547:10:17","nodeType":"VariableDeclaration","scope":2448,"src":"6539:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2444,"name":"address","nodeType":"ElementaryTypeName","src":"6539:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6538:20:17"},"returnParameters":{"id":2447,"nodeType":"ParameterList","parameters":[],"src":"6567:0:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2455,"nodeType":"FunctionDefinition","src":"6932:75:17","nodes":[],"documentation":{"id":2449,"nodeType":"StructuredDocumentation","src":"6574:353:17","text":" @notice Reallocates smart vaults.\n @dev Requirements:\n - caller must have a ROLE_REALLOCATOR role\n - smart vaults must be registered\n - smart vaults must use same asset group\n - strategies must represent a set of strategies used by smart vaults\n @param reallocateParams Paramaters for reallocation."},"functionSelector":"fe19c168","implemented":false,"kind":"function","modifiers":[],"name":"reallocate","nameLocation":"6941:10:17","parameters":{"id":2453,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2452,"mutability":"mutable","name":"reallocateParams","nameLocation":"6980:16:17","nodeType":"VariableDeclaration","scope":2455,"src":"6952:44:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_ReallocateParamBag_$2352_calldata_ptr","typeString":"struct ReallocateParamBag"},"typeName":{"id":2451,"nodeType":"UserDefinedTypeName","pathNode":{"id":2450,"name":"ReallocateParamBag","nameLocations":["6952:18:17"],"nodeType":"IdentifierPath","referencedDeclaration":2352,"src":"6952:18:17"},"referencedDeclaration":2352,"src":"6952:18:17","typeDescriptions":{"typeIdentifier":"t_struct$_ReallocateParamBag_$2352_storage_ptr","typeString":"struct ReallocateParamBag"}},"visibility":"internal"}],"src":"6951:46:17"},"returnParameters":{"id":2454,"nodeType":"ParameterList","parameters":[],"src":"7006:0:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2466,"nodeType":"FunctionDefinition","src":"7459:110:17","nodes":[],"documentation":{"id":2456,"nodeType":"StructuredDocumentation","src":"7013:441:17","text":" @notice Removes strategy from vaults, and optionally removes it from the system as well.\n @dev Requirements:\n - caller must have role ROLE_SPOOL_ADMIN\n - the strategy has to be active (requires ROLE_STRATEGY)\n @param strategy Strategy address to remove.\n @param vaults Array of vaults from which to remove the strategy\n @param disableStrategy Also disable the strategy across the system"},"functionSelector":"a1bd9cc1","implemented":false,"kind":"function","modifiers":[],"name":"removeStrategyFromVaults","nameLocation":"7468:24:17","parameters":{"id":2464,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2458,"mutability":"mutable","name":"strategy","nameLocation":"7501:8:17","nodeType":"VariableDeclaration","scope":2466,"src":"7493:16:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2457,"name":"address","nodeType":"ElementaryTypeName","src":"7493:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2461,"mutability":"mutable","name":"vaults","nameLocation":"7530:6:17","nodeType":"VariableDeclaration","scope":2466,"src":"7511:25:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_calldata_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":2459,"name":"address","nodeType":"ElementaryTypeName","src":"7511:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2460,"nodeType":"ArrayTypeName","src":"7511:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":2463,"mutability":"mutable","name":"disableStrategy","nameLocation":"7543:15:17","nodeType":"VariableDeclaration","scope":2466,"src":"7538:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2462,"name":"bool","nodeType":"ElementaryTypeName","src":"7538:4:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"7492:67:17"},"returnParameters":{"id":2465,"nodeType":"ParameterList","parameters":[],"src":"7568:0:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2474,"nodeType":"FunctionDefinition","src":"7828:73:17","nodes":[],"documentation":{"id":2467,"nodeType":"StructuredDocumentation","src":"7575:248:17","text":" @notice Syncs smart vault with strategies.\n @param smartVault Smart vault to sync.\n @param revertIfError If true, sync will revert if every flush index cannot be synced; if false it will sync all flush indexes it can."},"functionSelector":"73bf0e50","implemented":false,"kind":"function","modifiers":[],"name":"syncSmartVault","nameLocation":"7837:14:17","parameters":{"id":2472,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2469,"mutability":"mutable","name":"smartVault","nameLocation":"7860:10:17","nodeType":"VariableDeclaration","scope":2474,"src":"7852:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2468,"name":"address","nodeType":"ElementaryTypeName","src":"7852:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2471,"mutability":"mutable","name":"revertIfError","nameLocation":"7877:13:17","nodeType":"VariableDeclaration","scope":2474,"src":"7872:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2470,"name":"bool","nodeType":"ElementaryTypeName","src":"7872:4:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"7851:40:17"},"returnParameters":{"id":2473,"nodeType":"ParameterList","parameters":[],"src":"7900:0:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2489,"nodeType":"FunctionDefinition","src":"8758:178:17","nodes":[],"documentation":{"id":2475,"nodeType":"StructuredDocumentation","src":"7907:846:17","text":" @dev Calculate number of SVTs that haven't been synced yet after DHW runs\n DHW has minted strategy shares, but vaults haven't claimed them yet.\n Includes management fees (percentage of assets under management, distributed throughout a year) and deposit fees .\n Invariants:\n - There can't be more than once un-synced flush index per vault at any given time.\n - Flush index can't be synced, if all DHWs haven't been completed yet.\n Can be used to retrieve the number of SSTs the vault would claim during sync.\n @param smartVault SmartVault address\n @return oldTotalSVTs Amount of SVTs before sync\n @return mintedSVTs Amount of SVTs minted during sync\n @return feeSVTs Amount of SVTs pertaining to fees\n @return sstShares Amount of SSTs claimed per strategy"},"functionSelector":"bb9a7578","implemented":false,"kind":"function","modifiers":[],"name":"simulateSync","nameLocation":"8767:12:17","parameters":{"id":2478,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2477,"mutability":"mutable","name":"smartVault","nameLocation":"8788:10:17","nodeType":"VariableDeclaration","scope":2489,"src":"8780:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2476,"name":"address","nodeType":"ElementaryTypeName","src":"8780:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"8779:20:17"},"returnParameters":{"id":2488,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2480,"mutability":"mutable","name":"oldTotalSVTs","nameLocation":"8855:12:17","nodeType":"VariableDeclaration","scope":2489,"src":"8847:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2479,"name":"uint256","nodeType":"ElementaryTypeName","src":"8847:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2482,"mutability":"mutable","name":"mintedSVTs","nameLocation":"8877:10:17","nodeType":"VariableDeclaration","scope":2489,"src":"8869:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2481,"name":"uint256","nodeType":"ElementaryTypeName","src":"8869:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2484,"mutability":"mutable","name":"feeSVTs","nameLocation":"8897:7:17","nodeType":"VariableDeclaration","scope":2489,"src":"8889:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2483,"name":"uint256","nodeType":"ElementaryTypeName","src":"8889:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2487,"mutability":"mutable","name":"sstShares","nameLocation":"8925:9:17","nodeType":"VariableDeclaration","scope":2489,"src":"8906:28:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2485,"name":"uint256","nodeType":"ElementaryTypeName","src":"8906:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2486,"nodeType":"ArrayTypeName","src":"8906:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"8846:89:17"},"scope":2644,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2502,"nodeType":"FunctionDefinition","src":"9240:159:17","nodes":[],"documentation":{"id":2490,"nodeType":"StructuredDocumentation","src":"8942:293:17","text":" @dev Simulate sync when burning dNFTs and return their svts value.\n @param smartVault SmartVault address\n @param userAddress User address that owns dNFTs\n @param nftIds Ids of dNFTs\n @return svts Amount of svts user would get if he burns dNFTs"},"functionSelector":"ab1e74ca","implemented":false,"kind":"function","modifiers":[],"name":"simulateSyncWithBurn","nameLocation":"9249:20:17","parameters":{"id":2498,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2492,"mutability":"mutable","name":"smartVault","nameLocation":"9278:10:17","nodeType":"VariableDeclaration","scope":2502,"src":"9270:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2491,"name":"address","nodeType":"ElementaryTypeName","src":"9270:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2494,"mutability":"mutable","name":"userAddress","nameLocation":"9298:11:17","nodeType":"VariableDeclaration","scope":2502,"src":"9290:19:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2493,"name":"address","nodeType":"ElementaryTypeName","src":"9290:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2497,"mutability":"mutable","name":"nftIds","nameLocation":"9330:6:17","nodeType":"VariableDeclaration","scope":2502,"src":"9311:25:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2495,"name":"uint256","nodeType":"ElementaryTypeName","src":"9311:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2496,"nodeType":"ArrayTypeName","src":"9311:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"9269:68:17"},"returnParameters":{"id":2501,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2500,"mutability":"mutable","name":"svts","nameLocation":"9393:4:17","nodeType":"VariableDeclaration","scope":2502,"src":"9385:12:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2499,"name":"uint256","nodeType":"ElementaryTypeName","src":"9385:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9384:14:17"},"scope":2644,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":2516,"nodeType":"FunctionDefinition","src":"9655:154:17","nodes":[],"documentation":{"id":2503,"nodeType":"StructuredDocumentation","src":"9405:245:17","text":" @notice Instantly redeems smart vault shares for assets.\n @param bag Parameters for fast redeemal.\n @param withdrawalSlippages Slippages guarding redeemal.\n @return withdrawnAssets Amount of assets withdrawn."},"functionSelector":"e1c2eea6","implemented":false,"kind":"function","modifiers":[],"name":"redeemFast","nameLocation":"9664:10:17","parameters":{"id":2511,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2506,"mutability":"mutable","name":"bag","nameLocation":"9694:3:17","nodeType":"VariableDeclaration","scope":2516,"src":"9675:22:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_RedeemBag_$2743_calldata_ptr","typeString":"struct RedeemBag"},"typeName":{"id":2505,"nodeType":"UserDefinedTypeName","pathNode":{"id":2504,"name":"RedeemBag","nameLocations":["9675:9:17"],"nodeType":"IdentifierPath","referencedDeclaration":2743,"src":"9675:9:17"},"referencedDeclaration":2743,"src":"9675:9:17","typeDescriptions":{"typeIdentifier":"t_struct$_RedeemBag_$2743_storage_ptr","typeString":"struct RedeemBag"}},"visibility":"internal"},{"constant":false,"id":2510,"mutability":"mutable","name":"withdrawalSlippages","nameLocation":"9720:19:17","nodeType":"VariableDeclaration","scope":2516,"src":"9699:40:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_calldata_ptr_$dyn_calldata_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":2507,"name":"uint256","nodeType":"ElementaryTypeName","src":"9699:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2508,"nodeType":"ArrayTypeName","src":"9699:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":2509,"nodeType":"ArrayTypeName","src":"9699:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"}],"src":"9674:66:17"},"returnParameters":{"id":2515,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2514,"mutability":"mutable","name":"withdrawnAssets","nameLocation":"9792:15:17","nodeType":"VariableDeclaration","scope":2516,"src":"9775:32:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2512,"name":"uint256","nodeType":"ElementaryTypeName","src":"9775:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2513,"nodeType":"ArrayTypeName","src":"9775:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"9774:34:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2532,"nodeType":"FunctionDefinition","src":"10214:176:17","nodes":[],"documentation":{"id":2517,"nodeType":"StructuredDocumentation","src":"9815:394:17","text":" @notice Simulates redeem fast of smart vault shares.\n @dev Should only be run by address zero to simulate the redeemal and parse logs.\n @param bag Parameters for fast redeemal.\n @param withdrawalSlippages Slippages guarding redeemal.\n @param redeemer Address of a user to simulate redeem for.\n @return withdrawnAssets Amount of assets withdrawn."},"functionSelector":"c6a6d7cb","implemented":false,"kind":"function","modifiers":[],"name":"redeemFastView","nameLocation":"10223:14:17","parameters":{"id":2527,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2520,"mutability":"mutable","name":"bag","nameLocation":"10257:3:17","nodeType":"VariableDeclaration","scope":2532,"src":"10238:22:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_RedeemBag_$2743_calldata_ptr","typeString":"struct RedeemBag"},"typeName":{"id":2519,"nodeType":"UserDefinedTypeName","pathNode":{"id":2518,"name":"RedeemBag","nameLocations":["10238:9:17"],"nodeType":"IdentifierPath","referencedDeclaration":2743,"src":"10238:9:17"},"referencedDeclaration":2743,"src":"10238:9:17","typeDescriptions":{"typeIdentifier":"t_struct$_RedeemBag_$2743_storage_ptr","typeString":"struct RedeemBag"}},"visibility":"internal"},{"constant":false,"id":2524,"mutability":"mutable","name":"withdrawalSlippages","nameLocation":"10283:19:17","nodeType":"VariableDeclaration","scope":2532,"src":"10262:40:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_calldata_ptr_$dyn_calldata_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":2521,"name":"uint256","nodeType":"ElementaryTypeName","src":"10262:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2522,"nodeType":"ArrayTypeName","src":"10262:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":2523,"nodeType":"ArrayTypeName","src":"10262:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"},{"constant":false,"id":2526,"mutability":"mutable","name":"redeemer","nameLocation":"10312:8:17","nodeType":"VariableDeclaration","scope":2532,"src":"10304:16:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2525,"name":"address","nodeType":"ElementaryTypeName","src":"10304:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"10237:84:17"},"returnParameters":{"id":2531,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2530,"mutability":"mutable","name":"withdrawnAssets","nameLocation":"10373:15:17","nodeType":"VariableDeclaration","scope":2532,"src":"10356:32:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2528,"name":"uint256","nodeType":"ElementaryTypeName","src":"10356:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2529,"nodeType":"ArrayTypeName","src":"10356:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"10355:34:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2551,"nodeType":"FunctionDefinition","src":"10871:230:17","nodes":[],"documentation":{"id":2533,"nodeType":"StructuredDocumentation","src":"10396:470:17","text":" @notice Claims withdrawal of assets by burning withdrawal NFT.\n @dev Requirements:\n - withdrawal NFT must be valid\n @param smartVault Address of the smart vault that issued the withdrawal NFT.\n @param nftIds ID of withdrawal NFT to burn.\n @param nftAmounts amounts\n @param receiver Receiver of claimed assets.\n @return assetAmounts Amounts of assets claimed.\n @return assetGroupId ID of the asset group."},"functionSelector":"f8a70486","implemented":false,"kind":"function","modifiers":[],"name":"claimWithdrawal","nameLocation":"10880:15:17","parameters":{"id":2544,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2535,"mutability":"mutable","name":"smartVault","nameLocation":"10913:10:17","nodeType":"VariableDeclaration","scope":2551,"src":"10905:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2534,"name":"address","nodeType":"ElementaryTypeName","src":"10905:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2538,"mutability":"mutable","name":"nftIds","nameLocation":"10952:6:17","nodeType":"VariableDeclaration","scope":2551,"src":"10933:25:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2536,"name":"uint256","nodeType":"ElementaryTypeName","src":"10933:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2537,"nodeType":"ArrayTypeName","src":"10933:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":2541,"mutability":"mutable","name":"nftAmounts","nameLocation":"10987:10:17","nodeType":"VariableDeclaration","scope":2551,"src":"10968:29:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2539,"name":"uint256","nodeType":"ElementaryTypeName","src":"10968:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2540,"nodeType":"ArrayTypeName","src":"10968:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":2543,"mutability":"mutable","name":"receiver","nameLocation":"11015:8:17","nodeType":"VariableDeclaration","scope":2551,"src":"11007:16:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2542,"name":"address","nodeType":"ElementaryTypeName","src":"11007:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"10895:134:17"},"returnParameters":{"id":2550,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2547,"mutability":"mutable","name":"assetAmounts","nameLocation":"11065:12:17","nodeType":"VariableDeclaration","scope":2551,"src":"11048:29:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2545,"name":"uint256","nodeType":"ElementaryTypeName","src":"11048:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2546,"nodeType":"ArrayTypeName","src":"11048:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":2549,"mutability":"mutable","name":"assetGroupId","nameLocation":"11087:12:17","nodeType":"VariableDeclaration","scope":2551,"src":"11079:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2548,"name":"uint256","nodeType":"ElementaryTypeName","src":"11079:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11047:53:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2565,"nodeType":"FunctionDefinition","src":"11523:173:17","nodes":[],"documentation":{"id":2552,"nodeType":"StructuredDocumentation","src":"11107:411:17","text":" @notice Claims smart vault tokens by burning the deposit NFT.\n @dev Requirements:\n - deposit NFT must be valid\n - flush must be synced\n @param smartVaultAddress Address of the smart vault that issued the deposit NFT.\n @param nftIds ID of the deposit NFT to burn.\n @param nftAmounts amounts\n @return claimedAmount Amount of smart vault tokens claimed."},"functionSelector":"61189dd3","implemented":false,"kind":"function","modifiers":[],"name":"claimSmartVaultTokens","nameLocation":"11532:21:17","parameters":{"id":2561,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2554,"mutability":"mutable","name":"smartVaultAddress","nameLocation":"11562:17:17","nodeType":"VariableDeclaration","scope":2565,"src":"11554:25:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2553,"name":"address","nodeType":"ElementaryTypeName","src":"11554:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2557,"mutability":"mutable","name":"nftIds","nameLocation":"11600:6:17","nodeType":"VariableDeclaration","scope":2565,"src":"11581:25:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2555,"name":"uint256","nodeType":"ElementaryTypeName","src":"11581:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2556,"nodeType":"ArrayTypeName","src":"11581:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":2560,"mutability":"mutable","name":"nftAmounts","nameLocation":"11627:10:17","nodeType":"VariableDeclaration","scope":2565,"src":"11608:29:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2558,"name":"uint256","nodeType":"ElementaryTypeName","src":"11608:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2559,"nodeType":"ArrayTypeName","src":"11608:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"}],"src":"11553:85:17"},"returnParameters":{"id":2564,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2563,"mutability":"mutable","name":"claimedAmount","nameLocation":"11681:13:17","nodeType":"VariableDeclaration","scope":2565,"src":"11673:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2562,"name":"uint256","nodeType":"ElementaryTypeName","src":"11673:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"11672:23:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2578,"nodeType":"FunctionDefinition","src":"12224:107:17","nodes":[],"documentation":{"id":2566,"nodeType":"StructuredDocumentation","src":"11702:517:17","text":" @notice Initiates a withdrawal process and mints a withdrawal NFT. Once all DHWs are executed, user can\n use the withdrawal NFT to claim the assets.\n Optionally, caller can pass a list of deposit NFTs to unwrap.\n @param bag smart vault address, amount of shares to redeem, nft ids and amounts to burn\n @param receiver address that will receive the withdrawal NFT\n @param doFlush optionally flush the smart vault\n @return receipt ID of the receipt withdrawal NFT."},"functionSelector":"388bbfd3","implemented":false,"kind":"function","modifiers":[],"name":"redeem","nameLocation":"12233:6:17","parameters":{"id":2574,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2569,"mutability":"mutable","name":"bag","nameLocation":"12259:3:17","nodeType":"VariableDeclaration","scope":2578,"src":"12240:22:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_RedeemBag_$2743_calldata_ptr","typeString":"struct RedeemBag"},"typeName":{"id":2568,"nodeType":"UserDefinedTypeName","pathNode":{"id":2567,"name":"RedeemBag","nameLocations":["12240:9:17"],"nodeType":"IdentifierPath","referencedDeclaration":2743,"src":"12240:9:17"},"referencedDeclaration":2743,"src":"12240:9:17","typeDescriptions":{"typeIdentifier":"t_struct$_RedeemBag_$2743_storage_ptr","typeString":"struct RedeemBag"}},"visibility":"internal"},{"constant":false,"id":2571,"mutability":"mutable","name":"receiver","nameLocation":"12272:8:17","nodeType":"VariableDeclaration","scope":2578,"src":"12264:16:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2570,"name":"address","nodeType":"ElementaryTypeName","src":"12264:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2573,"mutability":"mutable","name":"doFlush","nameLocation":"12287:7:17","nodeType":"VariableDeclaration","scope":2578,"src":"12282:12:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2572,"name":"bool","nodeType":"ElementaryTypeName","src":"12282:4:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"12239:56:17"},"returnParameters":{"id":2577,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2576,"mutability":"mutable","name":"receipt","nameLocation":"12322:7:17","nodeType":"VariableDeclaration","scope":2578,"src":"12314:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2575,"name":"uint256","nodeType":"ElementaryTypeName","src":"12314:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12313:17:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2591,"nodeType":"FunctionDefinition","src":"12891:107:17","nodes":[],"documentation":{"id":2579,"nodeType":"StructuredDocumentation","src":"12337:549:17","text":" @notice Initiates a withdrawal process and mints a withdrawal NFT. Once all DHWs are executed, user can\n use the withdrawal NFT to claim the assets.\n Optionally, caller can pass a list of deposit NFTs to unwrap.\n @param bag smart vault address, amount of shares to redeem, nft ids and amounts to burn\n @param owner address that owns the shares to be redeemed and will receive the withdrawal NFT\n @param doFlush optionally flush the smart vault\n @return receipt ID of the receipt withdrawal NFT."},"functionSelector":"7f03e683","implemented":false,"kind":"function","modifiers":[],"name":"redeemFor","nameLocation":"12900:9:17","parameters":{"id":2587,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2582,"mutability":"mutable","name":"bag","nameLocation":"12929:3:17","nodeType":"VariableDeclaration","scope":2591,"src":"12910:22:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_RedeemBag_$2743_calldata_ptr","typeString":"struct RedeemBag"},"typeName":{"id":2581,"nodeType":"UserDefinedTypeName","pathNode":{"id":2580,"name":"RedeemBag","nameLocations":["12910:9:17"],"nodeType":"IdentifierPath","referencedDeclaration":2743,"src":"12910:9:17"},"referencedDeclaration":2743,"src":"12910:9:17","typeDescriptions":{"typeIdentifier":"t_struct$_RedeemBag_$2743_storage_ptr","typeString":"struct RedeemBag"}},"visibility":"internal"},{"constant":false,"id":2584,"mutability":"mutable","name":"owner","nameLocation":"12942:5:17","nodeType":"VariableDeclaration","scope":2591,"src":"12934:13:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2583,"name":"address","nodeType":"ElementaryTypeName","src":"12934:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2586,"mutability":"mutable","name":"doFlush","nameLocation":"12954:7:17","nodeType":"VariableDeclaration","scope":2591,"src":"12949:12:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":2585,"name":"bool","nodeType":"ElementaryTypeName","src":"12949:4:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"12909:53:17"},"returnParameters":{"id":2590,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2589,"mutability":"mutable","name":"receipt","nameLocation":"12989:7:17","nodeType":"VariableDeclaration","scope":2591,"src":"12981:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2588,"name":"uint256","nodeType":"ElementaryTypeName","src":"12981:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"12980:17:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2600,"nodeType":"FunctionDefinition","src":"13315:77:17","nodes":[],"documentation":{"id":2592,"nodeType":"StructuredDocumentation","src":"13004:306:17","text":" @notice Initiated a deposit and mints a deposit NFT. Once all DHWs are executed, user can\n unwrap the deposit NDF and claim his SVTs.\n @param bag smartVault address, assets, NFT receiver address, referral address, doFlush\n @return receipt ID of the receipt deposit NFT."},"functionSelector":"fa15b91b","implemented":false,"kind":"function","modifiers":[],"name":"deposit","nameLocation":"13324:7:17","parameters":{"id":2596,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2595,"mutability":"mutable","name":"bag","nameLocation":"13352:3:17","nodeType":"VariableDeclaration","scope":2600,"src":"13332:23:17","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_DepositBag_$843_calldata_ptr","typeString":"struct DepositBag"},"typeName":{"id":2594,"nodeType":"UserDefinedTypeName","pathNode":{"id":2593,"name":"DepositBag","nameLocations":["13332:10:17"],"nodeType":"IdentifierPath","referencedDeclaration":843,"src":"13332:10:17"},"referencedDeclaration":843,"src":"13332:10:17","typeDescriptions":{"typeIdentifier":"t_struct$_DepositBag_$843_storage_ptr","typeString":"struct DepositBag"}},"visibility":"internal"}],"src":"13331:25:17"},"returnParameters":{"id":2599,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2598,"mutability":"mutable","name":"receipt","nameLocation":"13383:7:17","nodeType":"VariableDeclaration","scope":2600,"src":"13375:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2597,"name":"uint256","nodeType":"ElementaryTypeName","src":"13375:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13374:17:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2606,"nodeType":"FunctionDefinition","src":"13715:61:17","nodes":[],"documentation":{"id":2601,"nodeType":"StructuredDocumentation","src":"13398:312:17","text":" @notice Recovers pending deposits from smart vault to emergency wallet.\n @dev Requirements:\n - caller must have role ROLE_SPOOL_ADMIN\n - all strategies of the smart vault need to be ghost strategies\n @param smartVault Smart vault from which to recover pending deposits."},"functionSelector":"260c2313","implemented":false,"kind":"function","modifiers":[],"name":"recoverPendingDeposits","nameLocation":"13724:22:17","parameters":{"id":2604,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2603,"mutability":"mutable","name":"smartVault","nameLocation":"13755:10:17","nodeType":"VariableDeclaration","scope":2606,"src":"13747:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2602,"name":"address","nodeType":"ElementaryTypeName","src":"13747:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"13746:20:17"},"returnParameters":{"id":2605,"nodeType":"ParameterList","parameters":[],"src":"13775:0:17"},"scope":2644,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":2613,"nodeType":"EventDefinition","src":"13964:72:17","nodes":[],"anonymous":false,"documentation":{"id":2607,"nodeType":"StructuredDocumentation","src":"13822:137:17","text":" @notice Smart vault has been flushed\n @param smartVault Smart vault address\n @param flushIndex Flush index"},"eventSelector":"d785d6ac7a1beb66e7c7aa47d471a28dc52f21913125972a85b8cbd2bf6234de","name":"SmartVaultFlushed","nameLocation":"13970:17:17","parameters":{"id":2612,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2609,"indexed":true,"mutability":"mutable","name":"smartVault","nameLocation":"14004:10:17","nodeType":"VariableDeclaration","scope":2613,"src":"13988:26:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2608,"name":"address","nodeType":"ElementaryTypeName","src":"13988:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2611,"indexed":false,"mutability":"mutable","name":"flushIndex","nameLocation":"14024:10:17","nodeType":"VariableDeclaration","scope":2613,"src":"14016:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2610,"name":"uint256","nodeType":"ElementaryTypeName","src":"14016:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13987:48:17"}},{"id":2620,"nodeType":"EventDefinition","src":"14183:71:17","nodes":[],"anonymous":false,"documentation":{"id":2614,"nodeType":"StructuredDocumentation","src":"14042:136:17","text":" @notice Smart vault has been synced\n @param smartVault Smart vault address\n @param flushIndex Flush index"},"eventSelector":"206fbd6d84a86176a548e1fdfddab2bc0ec06020f85918c4b12f8f5716a3a81a","name":"SmartVaultSynced","nameLocation":"14189:16:17","parameters":{"id":2619,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2616,"indexed":true,"mutability":"mutable","name":"smartVault","nameLocation":"14222:10:17","nodeType":"VariableDeclaration","scope":2620,"src":"14206:26:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2615,"name":"address","nodeType":"ElementaryTypeName","src":"14206:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2618,"indexed":false,"mutability":"mutable","name":"flushIndex","nameLocation":"14242:10:17","nodeType":"VariableDeclaration","scope":2620,"src":"14234:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2617,"name":"uint256","nodeType":"ElementaryTypeName","src":"14234:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"14205:48:17"}},{"id":2628,"nodeType":"EventDefinition","src":"14425:100:17","nodes":[],"anonymous":false,"documentation":{"id":2621,"nodeType":"StructuredDocumentation","src":"14260:160:17","text":" @notice Smart vault has been registered\n @param smartVault Smart vault address\n @param registrationForm Smart vault configuration"},"eventSelector":"3de86e7d916b4d19191e071d9ca9ba1c74cc94fc5fea1332b180acf42e27d536","name":"SmartVaultRegistered","nameLocation":"14431:20:17","parameters":{"id":2627,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2623,"indexed":true,"mutability":"mutable","name":"smartVault","nameLocation":"14468:10:17","nodeType":"VariableDeclaration","scope":2628,"src":"14452:26:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2622,"name":"address","nodeType":"ElementaryTypeName","src":"14452:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2626,"indexed":false,"mutability":"mutable","name":"registrationForm","nameLocation":"14507:16:17","nodeType":"VariableDeclaration","scope":2628,"src":"14480:43:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_SmartVaultRegistrationForm_$2325_memory_ptr","typeString":"struct SmartVaultRegistrationForm"},"typeName":{"id":2625,"nodeType":"UserDefinedTypeName","pathNode":{"id":2624,"name":"SmartVaultRegistrationForm","nameLocations":["14480:26:17"],"nodeType":"IdentifierPath","referencedDeclaration":2325,"src":"14480:26:17"},"referencedDeclaration":2325,"src":"14480:26:17","typeDescriptions":{"typeIdentifier":"t_struct$_SmartVaultRegistrationForm_$2325_storage_ptr","typeString":"struct SmartVaultRegistrationForm"}},"visibility":"internal"}],"src":"14451:73:17"}},{"id":2635,"nodeType":"EventDefinition","src":"14692:80:17","nodes":[],"anonymous":false,"documentation":{"id":2629,"nodeType":"StructuredDocumentation","src":"14531:156:17","text":" @notice Strategy was removed from the vault\n @param strategy Strategy address\n @param vault Vault to remove the strategy from"},"eventSelector":"eb80b29f2addaaffe1908cea1e5251e60bf25cb5bef4c02f816e670ede404dfa","name":"StrategyRemovedFromVault","nameLocation":"14698:24:17","parameters":{"id":2634,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2631,"indexed":true,"mutability":"mutable","name":"strategy","nameLocation":"14739:8:17","nodeType":"VariableDeclaration","scope":2635,"src":"14723:24:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2630,"name":"address","nodeType":"ElementaryTypeName","src":"14723:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2633,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"14765:5:17","nodeType":"VariableDeclaration","scope":2635,"src":"14749:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2632,"name":"address","nodeType":"ElementaryTypeName","src":"14749:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"14722:49:17"}},{"id":2643,"nodeType":"EventDefinition","src":"14946:82:17","nodes":[],"anonymous":false,"documentation":{"id":2636,"nodeType":"StructuredDocumentation","src":"14778:163:17","text":" @notice Vault was reallocation executed\n @param smartVault Smart vault address\n @param newAllocations new vault strategy allocations"},"eventSelector":"ee364d6312abc273abfa22ba799f321e049f2e38d0100fad80090594bc0fbff3","name":"SmartVaultReallocated","nameLocation":"14952:21:17","parameters":{"id":2642,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2638,"indexed":true,"mutability":"mutable","name":"smartVault","nameLocation":"14990:10:17","nodeType":"VariableDeclaration","scope":2643,"src":"14974:26:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2637,"name":"address","nodeType":"ElementaryTypeName","src":"14974:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2641,"indexed":false,"mutability":"mutable","name":"newAllocations","nameLocation":"15012:14:17","nodeType":"VariableDeclaration","scope":2643,"src":"15002:24:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_uint16a16_$2916","typeString":"uint16a16"},"typeName":{"id":2640,"nodeType":"UserDefinedTypeName","pathNode":{"id":2639,"name":"uint16a16","nameLocations":["15002:9:17"],"nodeType":"IdentifierPath","referencedDeclaration":2916,"src":"15002:9:17"},"referencedDeclaration":2916,"src":"15002:9:17","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_uint16a16_$2916","typeString":"uint16a16"}},"visibility":"internal"}],"src":"14973:54:17"}}],"abstract":false,"baseContracts":[{"baseName":{"id":2368,"name":"ISmartVaultRegistry","nameLocations":["4123:19:17"],"nodeType":"IdentifierPath","referencedDeclaration":2367,"src":"4123:19:17"},"id":2369,"nodeType":"InheritanceSpecifier","src":"4123:19:17"}],"canonicalName":"ISmartVaultManager","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[2644,2367],"name":"ISmartVaultManager","nameLocation":"4101:18:17","scope":2645,"usedErrors":[]}],"license":"BUSL-1.1"},"id":17}